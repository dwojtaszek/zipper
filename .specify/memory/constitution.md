<!--
Sync Impact Report:
- Version change: 1.3.0 → 1.4.0
- Modified principles: VI. Cross-Platform Compatibility (enhanced with mandatory dual testing)
- Added sections: None
- Removed sections: None
- Templates requiring updates:
  - ✅ .specify/templates/plan-template.md
  - ✅ .specify/templates/tasks-template.md
- Follow-up TODOs: None
-->

# Zipper Constitution

## Core Principles

### I. CLI-First Interface
All functionality MUST be exposed and controlled through the command-line interface. The CLI is the primary and only user interface for the application.

### II. Efficient, Stream-Based Processing
The application MUST process data in streams, writing directly to the output archive without storing intermediate files on disk. This is a non-negotiable performance requirement to handle large-scale data generation.

### III. Rigorous, Integration-Focused Testing
All new features or bug fixes MUST be accompanied by end-to-end tests that verify the correctness and integrity of the final output. While unit tests are not a primary focus at this time, the existing test suite MUST pass before any code is committed. **CRITICAL**: All tests MUST be implemented in both Windows (.bat) and Unix (.sh) formats and MUST pass on both platforms before deployment.

### IV. Documentation as the Source of Truth
The `Requirements.md` and `README.md` documents are the single source of truth for project requirements and features. All development work MUST be traceable to a requirement, and the agent is responsible for keeping these documents in sync with implementation changes. Tasks to read, update, and review these documents are an integral part of the development workflow.

### V. Automated and Consistent Development Workflow
The project relies on CI/CD automation for builds, tests, and releases. All commits MUST follow the Conventional Commits specification. Versioning MUST adhere to Semantic Versioning, with the `MAJOR.MINOR` version managed in the `.version` file and the `BUILD` number generated by the CI/CD pipeline.

### VI. Cross-Platform Compatibility
The application MUST be fully functional on Windows, Linux, and macOS. All new features and tests MUST be designed and implemented to run correctly on these platforms. **Mandatory Testing Requirement**: Every test script MUST have both a Windows batch (.bat) implementation and a Unix shell (.sh) implementation. Both versions MUST produce identical validation results and MUST pass on their respective platforms. No feature may be considered complete until tests pass on both Windows and Linux/macOS environments. CI/CD pipelines MUST validate functionality on both Windows and Linux agents before any deployment.

### VII. Technology Stack
The project is a .NET 8.x command-line application. All code MUST adhere to modern .NET conventions, including the use of implicit usings and nullable reference types as configured in the project.

### VIII. Pragmatic Simplicity
Code MUST adhere to low complexity and avoid unnecessarily complex expressions or concepts. Abstractions should be introduced pragmatically; code should only be commonized when duplication appears in at least three similar use cases (Rule of Three).

## Governance

All development practices and code contributions must adhere to the principles outlined in this constitution. Amendments to this constitution require a pull request, review, and approval from the project maintainers.

**Version**: 1.4.0 | **Ratified**: 2025-10-04 | **Last Amended**: 2024-12-19
